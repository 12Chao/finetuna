kind: Pod
metadata:
  namespace: dask
spec:
  restartPolicy: Never
  containers:
  - image: ulissigroup/kubeflow_vasp:amptorch
    imagePullPolicy: Always
    args: [dask-worker, --nthreads, '1', --no-dashboard, --memory-limit, 4GB, --death-timeout, '60']
    name: dask
    env:
    - name: ASE_VASP_COMMAND
      value: "mpirun -np 1 --mca btl_vader_single_copy_mechanism none /opt/vasp.6.1.2_pgi_acc/bin/vasp_std"
    resources:
      limits:
        cpu: "1"
        memory: 4G
        nvidia.com/gpu: 1
      requests:
        cpu: "1"
        memory: 4G
  imagePullSecrets:
  - name: ulissigroup-dockerhub
